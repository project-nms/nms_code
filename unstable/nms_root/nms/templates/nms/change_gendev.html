<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Network Management System - AdminPanel: Devices</title>
    <link media="all" rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/all.css" />
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="{{ STATIC_URL }}js/jquery-1.7.2.min.js"><\/script>');</script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.main.js"></script>
    <!--[if lt IE 9]><link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/ie.css" /><![endif]-->
</head>
<body>
    <div id="wrapper">
        <div id="content">
            <div class="c1">
                <div class="controls">
                    <nav class="links">
						{% include "_navupdev.html" %}
                    </nav>
                    {% include "_navuser.html" %}
                </div>
                <div class="tabs">
                    <div id="tab-7" class="tab">
                        <article>
                            <div class="text-section">
                                <h1>Dashboard</h1>
                                <ul class="states">
                                    {% for message in messages %}
                                    <li class="{{message.tags}}">{{message.tags.title}} : {{message}}</li>
                                    {% endfor %}
                                </ul>
                                <h2>Change Device Templates</h2>
                                <table border="0" width="100%">
                                    <tr>
										{% if qtype == 'change_gendev' %}
										{% if perms.nms.add_gen_dev %}
                                        <td width="50%">
											
                                            <form action="{% url 'nms:change_gendev_handler' record.dev_type_id %}" method="POST">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_gendev" />
                                                <table border="0">
                                                    <tr>
                                                        <td>Type:</td>
                                                        <td>
                                                            <select id="selectType" name="dev_type">
                                                                {% for record in dev_types %}
                                                                <option value="{{ record.dev_type_id }}">{{ record }}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Vendor:</td>
                                                        <td>
                                                            <select id="selectVendor" name="vendor">
                                                                {% for record in vendors %}
                                                                <option value="{{ record.vendor_id }}">{{ record }}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Model:</td>
                                                        <td>
                                                            <select id="selectModel" name="model">
                                                                {% for record in models %}
                                                                <option value="{{ record.model_id }}">{{ record }}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>XML:</td>
                                                        <td>
                                                            <select id="selectXMLFile" name="xml_files">
                                                                {% for record in xml_files %}
                                                                <option value="{{ record.file_location_id }}">{{ record.location }}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><input type="submit" value="Add Template" /></td>
                                                    </tr>
                                                </table>
                                            </form>
                                        </td>
										{% endif %}
										{% endif %}
                                    </tr>
                                </table>
                                <table border="0" width="100%">
                                    <tr>
										{% if qtype == 'change_dev_type' %}
                                        <td width="50%">
                                            <h3>Types</h3>
                                            <form action="{% url 'nms:change_gendev_handler' record.dev_type_id %}" method="post">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_dev_type" /><br />
                                                <table class="TFtable" width="70%">
                                                    <tr>
                                                        <td width="90%"><b>Name</b></td>
														<td width="5%"><b>Update</b></td>
                                                        <td width="5%"><b>Delete</b></td>
                                                    </tr>
                                                    {% for record in dev_types %}
                                                    <tr>
                                                        <td>{{ record }}</td>
														<td>{% if perm.nms.change_gen_dev %}<img src="{{ STATIC_URL }}images/editButton.png" widht="20px">{% else %} N/A {% endif %}</td>
                                                        <td>{% if perms.nms.delete_gen_dev %}<input type="checkbox" name="items" value="{{ record.dev_type_id }}" />{% else %} N/A {% endif %}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <table border="0" width="70%">
                                                    <tr>
                                                        <td width="95%"></td>
                                                        <td width="5%">{% if perms.nms.delete_gen_dev %}<input type="submit" value="Delete" />{% endif %}</td>
                                                    </tr>
                                                </table>
                                            </form>
                                        </td>
										{% endif %}
										{% if qtype == 'change_vendor' %}
                                        <td width="50%">
                                            <h3>Vendors</h3>
                                            <form action="{% url 'nms:change_gendev_handler' record.vendor_id %}" method="post">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_vendor" /><br />
                                                <table class="TFtable" width="70%">
                                                    <tr>
                                                        <td width="95%"><b>Name</b></td>
                                                        <td width="5%"><b>Delete</b></td>
                                                    </tr>
                                                    {% for record in vendors %}
                                                    <tr>
                                                        <td>{{ record }}</td>
                                                        <td>{% if perms.nms.delete_gen_dev %}<input type="checkbox" name="items" value="{{ record.vendor_id }}" />{% else %}N/A{% endif %}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <table border="0" width="70%">
                                                    <tr>
                                                        <td width="95%"></td>
                                                        <td width="5%">{% if perms.nms.delete_gen_dev %}<input type="submit" value="Delete" />{% endif %}</td>
                                                    </tr>
                                                </table>
                                            </form>
                                        </td>
										{% endif %}
                                    </tr>
                                    <tr>
										{% if qtype == 'change_model' %}
                                        <td width="50%">
                                            <h3>Models</h3>
                                            <form action="{% url 'nms:change_gendev_handler' record.model_id %}" method="post">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_model" /><br />
                                                <table class="TFtable" width="70%">
                                                    <tr>
                                                        <td width="95%"><b>Name</b></td>
                                                        <td width="5%"><b>Delete</b></td>
                                                    </tr>
                                                    {% for record in models %}
                                                    <tr>
                                                        <td>{{ record }}</td>
                                                        <td>{% if perms.nms.delete_gen_dev %}<input type="checkbox" name="items" value="{{ record.model_id }}" />{% else %}N/A{% endif %}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <table border="0" width="70%">
                                                    <tr>
                                                        <td width="95%"></td>
                                                        <td width="5%">{% if perms.nms.delete_gen_dev %}<input type="submit" value="Delete" />{% endif %}</td>
                                                    </tr>
                                                </table>
                                            </form>
                                        </td>
										{% endif %}
										{% if qtype == 'change_xml' %}
                                        <td width="50%">
                                            <h3>XML Files</h3>
                                            <form action="{% url 'nms:change_gendev_handler' record.file_location_id %}" method="post">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_xml" /><br />
                                                <table class="TFtable" width="70%">
                                                    <tr>
                                                        <td width="95%"><b>Name</b></td>
                                                        <td width="5%"><b>Delete</b></td>
                                                    </tr>
                                                    {% for record in xml_files %}
                                                    <tr>
                                                        <td>{{ record.location }}</td>
                                                        <td>{% if perms.nms.delete_gen_dev %}<input type="checkbox" name="items" value="{{ record.file_location_id }}" />{% else %}N/A{% endif %}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <table border="0" width="70%">
                                                    <tr>
                                                        <td width="95%"></td>
                                                        <td width="5%">{% if perms.nms.delete_gen_dev %}<input type="submit" value="Delete" />{% endif %}</td>
                                                    </tr>
                                                </table>
                                            </form>
                                        </td>
										{% endif %}
                                    </tr>
                                </table>
                                <table border="0" width="100%">
                                    <tr>
										{% if qtype == 'change_os_dev' %}
                                        <td width="50%">
                                            <h3>OS per generic device</h3>
                                            <form action="{% url 'nms:change_gendev_handler' record.os_dev_id %}" method="POST">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_osdev" />
                                                <table class="TFtable" width="70%">
                                                    <tr>
                                                        <td width="45%"><b>OS</b></td>
                                                        <td width="45%"><b>Device</b></td>
                                                        <td width="5%"><b>Delete</b></td>
                                                    </tr>
                                                    {% for record in os_devs %}
                                                    <tr>
                                                        <td>{{ record.os_id }}</td>
                                                        <td>{{ record.gen_dev_id.dev_type_id }}: {{ record.gen_dev_id.vendor_id }} {{ record.gen_dev_id.model_id }}</td>
                                                        <td>{% if perms.nms.delete_gen_dev %}<input type="checkbox" name="items" value="{{ record.os_dev_id }}" />{% else %}N/A{% endif %}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <table border="0" width="70%">
                                                    <tr>
                                                        <td width="95%"></td>
                                                        <td width="5%">{% if perms.nms.delete_gen_dev %}<input type="submit" value="Delete" />{% endif %}</td>
                                                    </tr>
                                                </table>
                                            </form>
                                        </td>
										{% endif %}
                                    </tr>
                                    <tr>
										{% if qtype == 'change_os' %}
                                        <td width="50%">
                                            <h3>OS</h3>
                                            <form action="{% url 'nms:change_gendev_handler' record.os_id %}" method="POST">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_os" />
                                                <table class="TFtable" width="70%">
                                                    <tr>
                                                        <td width="45%"><b>OS</b></td>
                                                        <td width="5%"><b>Delete</b></td>
                                                    </tr>
                                                    {% for record in os %}
                                                    <tr>
                                                        <td>{{ record.vendor_id }} ({{ record.os_type_id}}) {{ record.name }} {{ record.build }} {{ record.short_info }}</td>
                                                        <td>{% if perms.nms.delete_gen_dev %}<input type="checkbox" name="items" value="{{ record.os_id }}" />{% else %}N/A{% endif %}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <table border="0" width="70%">
                                                    <tr>
                                                        <td width="95%"></td>
                                                        <td width="5%">{% if perms.nms.delete_gen_dev %}<input type="submit" value="Delete" />{% endif %}</td>
                                                    </tr>
                                                </table>
                                            </form>
                                        </td>
										{% endif %}
                                    </tr>
									<tr>
										{% if qtype == 'change_os_type' %}
										<td width="50%">
											<h3>OS type</h3>
                                            <form action="{% url 'nms:change_gendev' record.os_type_id %}" method="post">
                                                {% csrf_token %}
                                                <input type="hidden" name="qtype" value="change_os_type" /><br />
                                                <table class="TFtable" width="70%">
                                                    <tr>
                                                        <td width="95%"><b>Name</b></td>
                                                        <td width="5%"><b>Delete</b></td>
                                                    </tr>
                                                    {% for record in os_type %}
                                                    <tr>
                                                        <td>{{ record }}</td>
                                                        <td>{% if perms.nms.delete_gen_dev %}<input type="checkbox" name="items" value="{{ record.os_type_id }}" />{% else %}N/A{% endif %}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <table border="0" width="70%">
                                                    <tr>
                                                        <td width="95%"></td>
                                                        <td width="5%">{% if perms.nms.delete_gen_dev %}<input type="submit" value="Delete" />{% endif %}</td>

                                                    </tr>
                                                </table>
                                            </form>
										</td>
										{% endif %}
										<td width="50%"></td>
									</tr>
                                </table>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
        <aside id="sidebar">
            <img src="{{ STATIC_URL }}images/NMS.png" />
            {% include "_nav.html" %}
            <span class="shadow"></span>
        </aside>
		<div class="push"></div> <!-- This element pushes the footer beyond the wrapper... If forgotten, the footer will be underneath the wrapper -->
	</div> <!-- Wrapper -->
	<footer>
		Project Network Management System is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation.
	</footer>
</body>
</html>
